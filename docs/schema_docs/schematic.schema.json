{"$schema":"http://json-schema.org/draft-07/schema#","title":"Wire Harness Schematic File","description":"Defines all visual and logical components of a wire harness schematic, including canvas settings, object geometry, connectivity, and metadata.","type":"object","required":["schematic","objects"],"properties":{"schematic":{"type":"object","description":"Basic metadata about the schematic","required":["name","version","created","canvas"],"properties":{"name":{"type":"string","description":"Name of the schematic"},"version":{"type":"string","pattern":"^\\d+\\.\\d+\\.\\d+$","description":"Semantic version string (e.g., 1.0.0)"},"created":{"type":"string","format":"date","description":"Date the project was created (ISO 8601)"},"author":{"type":"string","description":"Name of the author or designer"},"description":{"type":"string","description":"Short text description of the schematic"},"canvas":{"type":"object","description":"Describes the virtual drawing space used in the schematic editor.","required":["grid_size","units"],"properties":{"grid_size":{"type":"integer","minimum":1,"description":"Spacing for the editor's grid snapping, in selected units."},"units":{"type":"string","enum":["mm","in"],"description":"Measurement units used throughout the schematic ('mm' or 'in')."}}}}},"objects":{"type":"array","description":"List of all schematic elements including connectors, wires, labels, and symbols.","items":{"type":"object","required":["id","type"],"properties":{"id":{"type":"string","description":"Unique identifier for this object (must be globally unique)."},"type":{"type":"string","enum":["connector","wire","label"],"description":"Type of schematic object: 'connector', 'wire', or 'label'."},"x":{"type":"number","description":"X-coordinate of the object’s origin (for placement in the canvas)."},"y":{"type":"number","description":"Y-coordinate of the object’s origin (for placement in the canvas)."},"rotation":{"type":"number","description":"Rotation of the object in degrees, clockwise (optional)."},"name":{"type":"string","description":"Human-readable label for the connector or component."},"text":{"type":"string","description":"For label objects, this is the text content shown on screen."},"points":{"type":"array","description":"List of (x, y) points defining the path of a wire.","items":{"type":"array","items":[{"type":"number"},{"type":"number"}],"minItems":2,"maxItems":2}},"net":{"type":"string","description":"Name of the net this wire belongs to (optional, used for overrides or explicit tagging)."},"pins":{"type":"array","description":"List of pins for connector objects, each with a unique ID and name.","items":{"type":"object","required":["id","name"],"properties":{"id":{"type":"string","description":"Globally unique pin ID (e.g., 'J1.1')."},"name":{"type":"string","description":"Name of the signal or function associated with the pin."}}}}},"additionalProperties":false}},"nets":{"type":"array","description":"Explicit netlist definition linking pins by net name. Optional if nets are inferred from geometry.","items":{"type":"object","required":["name","nodes"],"properties":{"name":{"type":"string","description":"Name of the net (e.g., 'CAN_H')."},"nodes":{"type":"array","description":"List of pin IDs that belong to this net.","items":{"type":"string"}}}}},"metadata":{"type":"object","description":"Optional metadata including creation date, author, and schematic notes.","properties":{"created":{"type":"string","format":"date","description":"Date the schematic was created (ISO format)."},"author":{"type":"string","description":"Name of the person or organization who authored the schematic."},"description":{"type":"string","description":"One-line summary of the schematic’s purpose or context."}}}},"additionalProperties":false}
